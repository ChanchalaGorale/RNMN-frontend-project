_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{Hde0:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return O}));var r=n("nKUr"),c=n("5Yp1"),o=n("vC6e"),a=n("rePB"),s=n("q1tI"),i=(n("YFqc"),n("20a2"),n("iuBY")),u=n("abxw");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(){var e=Object(s.useState)({name:"",error:!1,success:!1,categories:[],removed:!1,reload:!1}),t=e[0],n=e[1],c=t.name,o=t.error,a=t.success,l=t.categories,d=t.removed,b=t.reload,f=Object(i.c)("token");Object(s.useEffect)((function(){h()}),[b]);var h=function(){Object(u.b)().then((function(e){e.error?console.log(e.error):n(j(j({},t),{},{categories:e}))}))},p=function(e){window.confirm("Are you sure you want to delete this category?")&&O(e)},O=function(e){Object(u.c)(e,f).then((function(e){e.error?console.log(e.error):n(j(j({},t),{},{error:!1,success:!1,name:"",removed:!d,reload:!b}))}))},m=function(e){e.preventDefault(),Object(u.a)({name:c},f).then((function(e){e.error?n(j(j({},t),{},{error:e.error,success:!1})):n(j(j({},t),{},{error:!1,success:!0,name:"",removed:d,reload:!b}))}))},g=function(e){n(j(j({},t),{},{name:e.target.value,error:!1,success:!1,removed:""}))};return Object(r.jsxs)(r.Fragment,{children:[function(){if(a)return Object(r.jsx)("p",{className:"text-success",children:"Category is created"})}(),function(){if(o)return Object(r.jsx)("p",{className:"text-danger",children:"Category already exist"})}(),function(){if(d)return Object(r.jsx)("p",{className:"text-danger",children:"Category is removed"})}(),Object(r.jsxs)("div",{onMouseMove:function(e){n(j(j({},t),{},{error:!1,success:!1,removed:""}))},children:[Object(r.jsx)("h5",{children:"Create category"}),Object(r.jsx)("br",{}),Object(r.jsxs)("form",{onSubmit:m,children:[Object(r.jsx)("div",{className:"form-group",children:Object(r.jsx)("input",{placeholder:"Create new category",type:"text",className:"form-control",onChange:g,value:c,required:!0})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})})]}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("h5",{children:"All categories"}),l.map((function(e,t){return Object(r.jsx)("button",{onDoubleClick:function(){return p(e.slug)},title:"Double click to delete",className:"btn btn-outline-primary mr-1 ml-1 mt-3",children:e.name},e.name)}))]})]})},b=n("SMr6");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){var e=Object(s.useState)({name:"",error:!1,success:!1,tags:[],removed:!1,reload:!1}),t=e[0],n=e[1],c=t.name,o=t.error,a=t.success,u=t.tags,l=t.removed,j=t.reload,d=Object(i.c)("token");Object(s.useEffect)((function(){f()}),[j]);var f=function(){Object(b.b)().then((function(e){e.error?console.log(e.error):n(h(h({},t),{},{tags:e}))}))},p=function(e){window.confirm("Are you sure you want to delete this tag?")&&O(e)},O=function(e){Object(b.c)(e,d).then((function(e){e.error?console.log(e.error):n(h(h({},t),{},{error:!1,success:!1,name:"",removed:!l,reload:!j}))}))},m=function(e){e.preventDefault(),Object(b.a)({name:c},d).then((function(e){e?e.error?n(h(h({},t),{},{error:e.error,success:!1})):n(h(h({},t),{},{error:!1,success:!0,name:"",removed:l,reload:!j})):console.log("no data recieved - tag")}))},g=function(e){n(h(h({},t),{},{name:e.target.value,error:!1,success:!1,removed:""}))};return Object(r.jsxs)("div",{children:[function(){if(a)return Object(r.jsx)("p",{className:"text-success",children:"Tag is created"})}(),function(){if(o)return Object(r.jsx)("p",{className:"text-danger",children:"Tag already exist"})}(),function(){if(l)return Object(r.jsx)("p",{className:"text-danger",children:"Tag is removed"})}(),Object(r.jsxs)("div",{onMouseMove:function(e){n(h(h({},t),{},{error:!1,success:!1,removed:""}))},children:[Object(r.jsx)("h5",{children:"Create tag"}),Object(r.jsx)("br",{}),Object(r.jsxs)("form",{onSubmit:m,children:[Object(r.jsx)("div",{className:"form-group ",children:Object(r.jsx)("input",{placeholder:"Create new tag",type:"text",className:"form-control",onChange:g,value:c,required:!0})}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})})]}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("h5",{children:"All tags"}),u.map((function(e,t){return Object(r.jsx)("button",{onDoubleClick:function(){return p(e.slug)},title:"Double click to delete",className:"btn btn-outline-primary mr-1 ml-1 mt-3",children:e.name},e.name)}))]})]})};function O(){return Object(r.jsx)(c.a,{children:Object(r.jsx)(o.a,{children:Object(r.jsx)("div",{className:"container-fluid",children:Object(r.jsxs)("div",{className:"row",children:[Object(r.jsxs)("div",{className:" col-md-12 pt-5 pb-5",children:[Object(r.jsx)("h2",{className:"text-center",children:"Manage Categories and Tags"}),Object(r.jsx)("hr",{})]}),Object(r.jsxs)("div",{className:" col-md-6 ",children:[Object(r.jsx)("h5",{className:"text-center",style:{color:"gray "},children:"Categories"}),Object(r.jsx)("div",{className:"card p-4",children:Object(r.jsx)(d,{})})]}),Object(r.jsxs)("div",{className:" col-md-6 ",children:[Object(r.jsx)("h5",{className:"text-center",style:{color:"gray"},children:"Tags"}),Object(r.jsx)("div",{className:"card p-4",children:Object(r.jsx)(p,{})})]})]})})})})}},SMr6:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n("LpSC"),c=n.n(r),o=n("iuBY"),a="https://arcane-shelf-33075.herokuapp.com",s=function(e,t){return c()("".concat(a,"/api/tag"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}).then((function(e){return Object(o.d)(e),e.json()})).catch((function(e){return console.log(e)}))},i=function(){return c()("".concat(a,"/api/tags"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},u=function(e){return c()("".concat(a,"/api/tag/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},l=function(e,t){return c()("".concat(a,"/api/tag/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return Object(o.d)(e),e.json()})).catch((function(e){return console.log(e)}))}},abxw:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n("LpSC"),c=n.n(r),o=n("iuBY"),a="https://arcane-shelf-33075.herokuapp.com",s=function(e,t){return c()("".concat(a,"/api/category"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}).then((function(e){return Object(o.d)(e),e.json()})).catch((function(e){return console.log(e)}))},i=function(){return c()("".concat(a,"/api/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},u=function(e){return c()("".concat(a,"/api/category/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},l=function(e,t){return c()("".concat(a,"/api/category/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return Object(o.d)(e),e.json()})).catch((function(e){return console.log(e)}))}},nxd4:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/crud/category-tag",function(){return n("Hde0")}])},vC6e:function(e,t,n){"use strict";var r=n("nKUr"),c=n("q1tI"),o=n("20a2"),a=n.n(o),s=n("iuBY");t.a=function(e){var t=e.children;return Object(c.useEffect)((function(){Object(s.e)()?1!==Object(s.e)().role&&a.a.push("/"):a.a.push("/signin")}),[]),Object(r.jsx)(r.Fragment,{children:t})}}},[["nxd4",1,0,2,3]]]);
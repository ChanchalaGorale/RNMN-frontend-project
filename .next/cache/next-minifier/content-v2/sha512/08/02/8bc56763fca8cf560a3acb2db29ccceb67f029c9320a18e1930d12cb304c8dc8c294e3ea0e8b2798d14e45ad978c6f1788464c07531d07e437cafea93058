{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[32],{AveT:function(e,t,r){\"use strict\";var c=r(\"nKUr\"),n=r(\"KQm4\"),s=r(\"rePB\"),l=(r(\"YFqc\"),r(\"q1tI\")),a=r(\"20a2\"),o=r(\"Vvt1\"),i=r.n(o),b=r(\"iuBY\"),j=r(\"abxw\"),u=r(\"SMr6\"),d=r(\"zycw\"),O=(r(\"91UR\"),r(\"//g3\"));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,c)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=i()((function(){return Promise.all([r.e(0),r.e(11),r.e(6),r.e(12)]).then(r.t.bind(null,\"rmP6\",7))}),{ssr:!1,loadableGenerated:{webpack:function(){return[\"rmP6\"]},modules:[\"react-quill\"]}});t.a=Object(a.withRouter)((function(e){var t=e.router,r=Object(l.useState)([]),a=r[0],o=r[1],i=Object(l.useState)([]),h=i[0],p=i[1],x=Object(l.useState)([]),g=x[0],v=x[1],y=Object(l.useState)([]),N=y[0],w=y[1],_=Object(l.useState)(!!localStorage.getItem(\"blog\")&&JSON.parse(localStorage.getItem(\"blog\"))),P=_[0],S=_[1],D=Object(l.useState)({error:\"\",sizeError:\"\",success:\"\",formData:\"\",title:\"\",hidePublishButton:!1}),E=D[0],k=D[1],C=E.error,Y=(E.sizeError,E.success),q=E.formData,B=E.title,z=(E.hidePublishButton,Object(b.c)(\"token\"));Object(l.useEffect)((function(){k(m(m({},E),{},{formData:new FormData})),F(),I()}),[t]);var F=function(){Object(j.b)().then((function(e){e?e.error?k(m(m({},E),{},{error:e.error})):o(e):console.log(\"no data\")}))},I=function(){Object(u.b)().then((function(e){e?(console.log(e),e.error?k(m(m({},E),{},{error:e.error})):p(e)):console.log(\"no data\")}))},T=function(e){e.preventDefault(),Object(d.a)(q,z).then((function(e){e?e.error?k(m(m({},E),{},{error:e.error})):(k(m(m({},E),{},{title:\"\",error:\"\",success:'A new blog titled \"'.concat(e.title,'\" is created')})),S(\"\"),o([]),p([])):console.log(\"no data recieved \")}))},U=function(e){return function(t){var r,c=\"photo\"===e?t.target.files[0]:t.target.value;q.set(e,c),k(m(m({},E),{},(r={},Object(s.a)(r,e,c),Object(s.a)(r,\"formData\",q),Object(s.a)(r,\"error\",\"\"),r)))}},J=function(e){S(e),q.set(\"body\",e),localStorage.setItem(\"blog\",JSON.stringify(e))},K=function(e){return function(){k(m(m({},E),{},{error:\"\"}));var t=g.indexOf(e),r=Object(n.a)(g);-1===t?r.push(e):r.splice(t,1),console.log(r),v(r),q.set(\"categories\",r)}},A=function(e){return function(){k(m(m({},E),{},{error:\"\"}));var t=g.indexOf(e),r=Object(n.a)(N);-1===t?r.push(e):r.splice(t,1),console.log(r),w(r),q.set(\"tags\",r)}};return Object(c.jsxs)(\"div\",{className:\"container-fluid pb-5 \",children:[Object(c.jsxs)(\"div\",{className:\"pt-3 \",children:[Object(c.jsx)(\"div\",{className:\"alert alert-danger\",style:{display:C?\"\":\"none\"},children:C}),Object(c.jsx)(\"div\",{className:\"alert alert-success\",style:{display:Y?\"\":\"none\"},children:Y})]}),Object(c.jsxs)(\"div\",{className:\"row pb-5 \",children:[Object(c.jsx)(\"div\",{className:\"col-md-8\",children:Object(c.jsxs)(\"form\",{onSubmit:T,children:[Object(c.jsx)(\"div\",{className:\"form-group\",children:Object(c.jsx)(\"input\",{placeholder:\"Blog title\",type:\"text\",className:\"form-control\",value:B,onChange:U(\"title\")})}),Object(c.jsx)(\"div\",{className:\"form-group quill__form__grp\",children:Object(c.jsx)(f,{modules:O.b,formats:O.a,value:P,placeholder:\"Write something amazing...\",onChange:J})}),Object(c.jsx)(\"div\",{children:Object(c.jsx)(\"button\",{type:\"submit\",className:\"btn btn-primary btn-lg btn-block\",children:\"Publish\"})})]})}),Object(c.jsxs)(\"div\",{className:\"col-md-4\",children:[Object(c.jsxs)(\"div\",{className:\"form-group pb-2\",children:[Object(c.jsx)(\"h5\",{children:\"Featured image\"}),Object(c.jsx)(\"hr\",{}),Object(c.jsx)(\"small\",{className:\"text-muted\",children:\"Max size: 1mb\"}),Object(c.jsx)(\"br\",{}),Object(c.jsx)(\"label\",{className:\"btn btn-outline-primary\",children:Object(c.jsx)(\"input\",{onChange:U(\"photo\"),type:\"file\",accept:\"image/*\",placeholder:\"Upload featured image\"})})]}),Object(c.jsxs)(\"div\",{style:{display:\"flex\",flexDirection:\"row\"},children:[Object(c.jsxs)(\"div\",{className:\"col-md-6\",children:[Object(c.jsx)(\"h5\",{children:\"Categories\"}),Object(c.jsx)(\"hr\",{}),Object(c.jsx)(\"ul\",{style:{maxHeight:\"200px\",overflowY:\"scroll\"},children:a&&a.map((function(e,t){return Object(c.jsxs)(\"li\",{className:\"list-unstyled\",children:[Object(c.jsx)(\"input\",{onChange:K(e._id),type:\"checkbox\",className:\"mr-2\"}),Object(c.jsx)(\"label\",{className:\"form-check-label\",children:e.name})]},t)}))})]}),Object(c.jsxs)(\"div\",{className:\"col-md-6\",children:[Object(c.jsx)(\"h5\",{children:\"Tags\"}),Object(c.jsx)(\"hr\",{}),Object(c.jsx)(\"ul\",{style:{maxHeight:\"200px\",overflowY:\"scroll\"},children:h&&h.map((function(e,t){return Object(c.jsxs)(\"li\",{className:\"list-unstyled\",children:[Object(c.jsx)(\"input\",{onChange:A(e._id),type:\"checkbox\",className:\"mr-2\"}),Object(c.jsx)(\"label\",{className:\"form-check-label\",children:e.name})]},t)}))})]})]})]})]})]})}))},SD2O:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/user/crud/blog\",function(){return r(\"bexL\")}])},bexL:function(e,t,r){\"use strict\";r.r(t);var c=r(\"nKUr\"),n=r(\"5Yp1\"),s=r(\"yxxe\"),l=r(\"AveT\");r(\"YFqc\");t.default=function(){return Object(c.jsx)(n.a,{children:Object(c.jsx)(s.a,{children:Object(c.jsx)(\"div\",{className:\"container-fluid\",children:Object(c.jsxs)(\"div\",{className:\"row\",children:[Object(c.jsx)(\"div\",{className:\"col-md-12 pt-5 pb-5\",children:Object(c.jsx)(\"h2\",{children:\"Create a new blog\"})}),Object(c.jsx)(\"div\",{className:\"col-md-12\",children:Object(c.jsx)(l.a,{})})]})})})})}},yxxe:function(e,t,r){\"use strict\";var c=r(\"nKUr\"),n=r(\"q1tI\"),s=r(\"20a2\"),l=r.n(s),a=r(\"iuBY\");t.a=function(e){var t=e.children;return Object(n.useEffect)((function(){Object(a.e)()||l.a.push(\"/signin\")}),[]),Object(c.jsx)(c.Fragment,{children:t})}}},[[\"SD2O\",1,0,2,3,8,9]]]);","map":{"version":3,"sources":["static/chunks/pages/user/crud/blog-591736ee039ffbd24a4b.js"],"names":["_N_E","window","push","AveT","module","__webpack_exports__","__webpack_require__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","_Users_chanchalagorale_Documents_react_mongo_next_project_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","_Users_chanchalagorale_Documents_react_mongo_next_project_frontend_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_4__","next_router__WEBPACK_IMPORTED_MODULE_5__","next_dynamic__WEBPACK_IMPORTED_MODULE_6__","next_dynamic__WEBPACK_IMPORTED_MODULE_6___default","n","_actions_auth__WEBPACK_IMPORTED_MODULE_7__","_actions_category__WEBPACK_IMPORTED_MODULE_8__","_actions_tag__WEBPACK_IMPORTED_MODULE_9__","_actions_blog__WEBPACK_IMPORTED_MODULE_10__","_helpers_quill__WEBPACK_IMPORTED_MODULE_12__","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","ReactQuill","Promise","all","e","then","t","bind","ssr","loadableGenerated","webpack","modules","_ref","router","_useState","categories","setCategories","_useState2","tags","setTags","_useState3","checked","setChecked","_useState4","checkedTag","setCheckedTag","_useState5","localStorage","getItem","JSON","parse","body","setBody","_useState6","error","sizeError","success","formData","title","hidePublishButton","values","setValues","token","FormData","initCategories","initTags","data","console","log","publishBlog","preventDefault","concat","handleChange","name","_objectSpread2","value","files","set","handleBody","setItem","stringify","handleToggle","c","clickedCategory","indexOf","splice","handleTagsToggle","clickedTag","className","children","style","display","onSubmit","placeholder","type","onChange","formats","accept","flexDirection","maxHeight","overflowY","map","_id","SD2O","exports","__NEXT_P","bexL","r","_components_Layout__WEBPACK_IMPORTED_MODULE_1__","_components_auth_Private__WEBPACK_IMPORTED_MODULE_2__","_components_crud_BlogCreate__WEBPACK_IMPORTED_MODULE_3__","yxxe","react__WEBPACK_IMPORTED_MODULE_1__","next_router__WEBPACK_IMPORTED_MODULE_2__","next_router__WEBPACK_IMPORTED_MODULE_2___default","_actions_auth__WEBPACK_IMPORTED_MODULE_3__","a"],"mappings":"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"},"name":"static/chunks/pages/user/crud/blog-591736ee039ffbd24a4b.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[32],{\n\n/***/ \"AveT\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_chanchalagorale_Documents_react_mongo_next_project_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"KQm4\");\n/* harmony import */ var _Users_chanchalagorale_Documents_react_mongo_next_project_frontend_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"rePB\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"YFqc\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"Vvt1\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _actions_auth__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"iuBY\");\n/* harmony import */ var _actions_category__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"abxw\");\n/* harmony import */ var _actions_tag__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"SMr6\");\n/* harmony import */ var _actions_blog__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"zycw\");\n/* harmony import */ var _node_modules_react_quill_dist_quill_snow_css__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"91UR\");\n/* harmony import */ var _node_modules_react_quill_dist_quill_snow_css__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_node_modules_react_quill_dist_quill_snow_css__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var _helpers_quill__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"//g3\");\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_Users_chanchalagorale_Documents_react_mongo_next_project_frontend_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\nvar ReactQuill = next_dynamic__WEBPACK_IMPORTED_MODULE_6___default()(function () {\n  return Promise.all(/* import() */[__webpack_require__.e(0), __webpack_require__.e(11), __webpack_require__.e(6), __webpack_require__.e(12)]).then(__webpack_require__.t.bind(null, \"rmP6\", 7));\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [/*require.resolve*/(\"rmP6\")];\n    },\n    modules: [\"react-quill\"]\n  }\n});\n\n\n\nvar CreateBlog = function CreateBlog(_ref) {\n  var router = _ref.router;\n\n  var blogFromLS = function blogFromLS() {\n    if (false) {}\n\n    if (localStorage.getItem(\"blog\")) {\n      return JSON.parse(localStorage.getItem(\"blog\"));\n    } else {\n      return false;\n    }\n  };\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])([]),\n      categories = _useState[0],\n      setCategories = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])([]),\n      tags = _useState2[0],\n      setTags = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])([]),\n      checked = _useState3[0],\n      setChecked = _useState3[1]; // categories\n\n\n  var _useState4 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])([]),\n      checkedTag = _useState4[0],\n      setCheckedTag = _useState4[1]; // tags\n\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])(blogFromLS()),\n      body = _useState5[0],\n      setBody = _useState5[1];\n\n  var _useState6 = Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useState\"])({\n    error: \"\",\n    sizeError: \"\",\n    success: \"\",\n    formData: \"\",\n    title: \"\",\n    hidePublishButton: false\n  }),\n      values = _useState6[0],\n      setValues = _useState6[1];\n\n  var error = values.error,\n      sizeError = values.sizeError,\n      success = values.success,\n      formData = values.formData,\n      title = values.title,\n      hidePublishButton = values.hidePublishButton;\n  var token = Object(_actions_auth__WEBPACK_IMPORTED_MODULE_7__[/* getCookie */ \"c\"])(\"token\");\n  Object(react__WEBPACK_IMPORTED_MODULE_4__[\"useEffect\"])(function () {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      formData: new FormData()\n    }));\n    initCategories();\n    initTags();\n  }, [router]);\n\n  var initCategories = function initCategories() {\n    Object(_actions_category__WEBPACK_IMPORTED_MODULE_8__[/* getCategories */ \"b\"])().then(function (data) {\n      if (data) {\n        if (data.error) {\n          setValues(_objectSpread(_objectSpread({}, values), {}, {\n            error: data.error\n          }));\n        } else {\n          setCategories(data);\n        }\n      } else {\n        console.log(\"no data\");\n      }\n    });\n  };\n\n  var initTags = function initTags() {\n    Object(_actions_tag__WEBPACK_IMPORTED_MODULE_9__[/* getTags */ \"b\"])().then(function (data) {\n      if (data) {\n        console.log(data);\n\n        if (data.error) {\n          setValues(_objectSpread(_objectSpread({}, values), {}, {\n            error: data.error\n          }));\n        } else {\n          setTags(data);\n        }\n      } else {\n        console.log(\"no data\");\n      }\n    });\n  };\n\n  var publishBlog = function publishBlog(e) {\n    e.preventDefault(); // console.log('ready to publishBlog');\n\n    Object(_actions_blog__WEBPACK_IMPORTED_MODULE_10__[/* createBlog */ \"a\"])(formData, token).then(function (data) {\n      if (data) {\n        if (data.error) {\n          setValues(_objectSpread(_objectSpread({}, values), {}, {\n            error: data.error\n          }));\n        } else {\n          setValues(_objectSpread(_objectSpread({}, values), {}, {\n            title: \"\",\n            error: \"\",\n            success: \"A new blog titled \\\"\".concat(data.title, \"\\\" is created\")\n          }));\n          setBody(\"\");\n          setCategories([]);\n          setTags([]);\n        }\n      } else {\n        console.log(\"no data recieved \");\n      }\n    });\n  };\n\n  var handleChange = function handleChange(name) {\n    return function (e) {\n      var _objectSpread2;\n\n      // console.log(e.target.value);\n      var value = name === \"photo\" ? e.target.files[0] : e.target.value;\n      formData.set(name, value);\n      setValues(_objectSpread(_objectSpread({}, values), {}, (_objectSpread2 = {}, Object(_Users_chanchalagorale_Documents_react_mongo_next_project_frontend_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_objectSpread2, name, value), Object(_Users_chanchalagorale_Documents_react_mongo_next_project_frontend_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_objectSpread2, \"formData\", formData), Object(_Users_chanchalagorale_Documents_react_mongo_next_project_frontend_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(_objectSpread2, \"error\", \"\"), _objectSpread2)));\n    };\n  };\n\n  var handleBody = function handleBody(e) {\n    // console.log(e);\n    setBody(e);\n    formData.set(\"body\", e);\n\n    if (true) {\n      localStorage.setItem(\"blog\", JSON.stringify(e));\n    }\n  };\n\n  var handleToggle = function handleToggle(c) {\n    return function () {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        error: \"\"\n      })); // return the first index or -1\n\n      var clickedCategory = checked.indexOf(c);\n\n      var all = Object(_Users_chanchalagorale_Documents_react_mongo_next_project_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(checked);\n\n      if (clickedCategory === -1) {\n        all.push(c);\n      } else {\n        all.splice(clickedCategory, 1);\n      }\n\n      console.log(all);\n      setChecked(all);\n      formData.set(\"categories\", all);\n    };\n  };\n\n  var handleTagsToggle = function handleTagsToggle(t) {\n    return function () {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        error: \"\"\n      })); // return the first index or -1\n\n      var clickedTag = checked.indexOf(t);\n\n      var all = Object(_Users_chanchalagorale_Documents_react_mongo_next_project_frontend_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(checkedTag);\n\n      if (clickedTag === -1) {\n        all.push(t);\n      } else {\n        all.splice(clickedTag, 1);\n      }\n\n      console.log(all);\n      setCheckedTag(all);\n      formData.set(\"tags\", all);\n    };\n  };\n\n  var showCategories = function showCategories() {\n    return categories && categories.map(function (c, i) {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"li\", {\n        className: \"list-unstyled\",\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"input\", {\n          onChange: handleToggle(c._id),\n          type: \"checkbox\",\n          className: \"mr-2\"\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n          className: \"form-check-label\",\n          children: c.name\n        })]\n      }, i);\n    });\n  };\n\n  var showTags = function showTags() {\n    return tags && tags.map(function (t, i) {\n      return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"li\", {\n        className: \"list-unstyled\",\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"input\", {\n          onChange: handleTagsToggle(t._id),\n          type: \"checkbox\",\n          className: \"mr-2\"\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n          className: \"form-check-label\",\n          children: t.name\n        })]\n      }, i);\n    });\n  };\n\n  var showError = function showError() {\n    return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n      className: \"alert alert-danger\",\n      style: {\n        display: error ? \"\" : \"none\"\n      },\n      children: error\n    });\n  };\n\n  var showSuccess = function showSuccess() {\n    return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n      className: \"alert alert-success\",\n      style: {\n        display: success ? \"\" : \"none\"\n      },\n      children: success\n    });\n  };\n\n  var createBlogForm = function createBlogForm() {\n    return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"form\", {\n      onSubmit: publishBlog,\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"input\", {\n          placeholder: \"Blog title\",\n          type: \"text\",\n          className: \"form-control\",\n          value: title,\n          onChange: handleChange(\"title\")\n        })\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        className: \"form-group quill__form__grp\",\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(ReactQuill, {\n          modules: _helpers_quill__WEBPACK_IMPORTED_MODULE_12__[/* QuillModules */ \"b\"],\n          formats: _helpers_quill__WEBPACK_IMPORTED_MODULE_12__[/* QuillFormats */ \"a\"],\n          value: body,\n          placeholder: \"Write something amazing...\",\n          onChange: handleBody\n        })\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary btn-lg btn-block\",\n          children: \"Publish\"\n        })\n      })]\n    });\n  };\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n    className: \"container-fluid pb-5 \",\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n      className: \"pt-3 \",\n      children: [showError(), showSuccess()]\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n      className: \"row pb-5 \",\n      children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        className: \"col-md-8\",\n        children: createBlogForm()\n      }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n        className: \"col-md-4\",\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n          className: \"form-group pb-2\",\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h5\", {\n            children: \"Featured image\"\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"hr\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"small\", {\n            className: \"text-muted\",\n            children: \"Max size: 1mb\"\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"br\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"label\", {\n            className: \"btn btn-outline-primary\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"input\", {\n              onChange: handleChange(\"photo\"),\n              type: \"file\",\n              accept: \"image/*\",\n              placeholder: \"Upload featured image\"\n            })\n          })]\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n          style: {\n            display: \"flex\",\n            flexDirection: \"row\"\n          },\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n            className: \"col-md-6\",\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h5\", {\n              children: \"Categories\"\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"hr\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"ul\", {\n              style: {\n                maxHeight: \"200px\",\n                overflowY: \"scroll\"\n              },\n              children: showCategories()\n            })]\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n            className: \"col-md-6\",\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h5\", {\n              children: \"Tags\"\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"hr\", {}), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"ul\", {\n              style: {\n                maxHeight: \"200px\",\n                overflowY: \"scroll\"\n              },\n              children: showTags()\n            })]\n          })]\n        })]\n      })]\n    })]\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Object(next_router__WEBPACK_IMPORTED_MODULE_5__[\"withRouter\"])(CreateBlog));\n\n/***/ }),\n\n/***/ \"SD2O\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/user/crud/blog\",\n        function () {\n          return __webpack_require__(\"bexL\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"bexL\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_Layout__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"5Yp1\");\n/* harmony import */ var _components_auth_Private__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"yxxe\");\n/* harmony import */ var _components_crud_BlogCreate__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"AveT\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"YFqc\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\n\nvar CreateBlog = function CreateBlog() {\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_Layout__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"], {\n    children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_auth_Private__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"], {\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsxs\"])(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n            className: \"col-md-12 pt-5 pb-5\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"h2\", {\n              children: \"Create a new blog\"\n            })\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(\"div\", {\n            className: \"col-md-12\",\n            children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(_components_crud_BlogCreate__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"], {})\n          })]\n        })\n      })\n    })\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CreateBlog);\n\n/***/ }),\n\n/***/ \"yxxe\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _actions_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"iuBY\");\n\n\n\n\n\n\nfunction Private(_ref) {\n  var children = _ref.children;\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (!Object(_actions_auth__WEBPACK_IMPORTED_MODULE_3__[/* isAuth */ \"e\"])()) {\n      next_router__WEBPACK_IMPORTED_MODULE_2___default.a.push(\"/signin\");\n    }\n  }, []);\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n    children: children\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Private);\n\n/***/ })\n\n},[[\"SD2O\",1,0,2,3,8,9]]]);","inputSourceMap":{"version":3,"sources":["/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/components/crud/BlogCreate.js","/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fuser%2Fcrud%2Fblog&absolutePagePath=private-next-pages%2Fuser%2Fcrud%2Fblog.js!","/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/pages/user/crud/blog.js","/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/components/auth/Private.js"],"names":[],"mappings":"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","file":"x","sourcesContent":["import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _toConsumableArray from \"/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Link from \"next/link\";\nimport { useState, useEffect } from \"react\";\nimport Router from \"next/router\";\nimport dynamic from \"next/dynamic\";\nimport { withRouter } from \"next/router\";\nimport { getCookie, isAuth } from \"../../actions/auth\";\nimport { getCategories } from \"../../actions/category\";\nimport { getTags } from \"../../actions/tag\";\nimport { createBlog } from \"../../actions/blog\";\nvar ReactQuill = dynamic(function () {\n  return import(\"react-quill\");\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak(\"react-quill\")];\n    },\n    modules: [\"react-quill\"]\n  }\n});\nimport \"../../node_modules/react-quill/dist/quill.snow.css\";\nimport { QuillModules, QuillFormats } from \"../../helpers/quill\";\n\nvar CreateBlog = function CreateBlog(_ref) {\n  var router = _ref.router;\n\n  var blogFromLS = function blogFromLS() {\n    if (false) {\n      return false;\n    }\n\n    if (localStorage.getItem(\"blog\")) {\n      return JSON.parse(localStorage.getItem(\"blog\"));\n    } else {\n      return false;\n    }\n  };\n\n  var _useState = useState([]),\n      categories = _useState[0],\n      setCategories = _useState[1];\n\n  var _useState2 = useState([]),\n      tags = _useState2[0],\n      setTags = _useState2[1];\n\n  var _useState3 = useState([]),\n      checked = _useState3[0],\n      setChecked = _useState3[1]; // categories\n\n\n  var _useState4 = useState([]),\n      checkedTag = _useState4[0],\n      setCheckedTag = _useState4[1]; // tags\n\n\n  var _useState5 = useState(blogFromLS()),\n      body = _useState5[0],\n      setBody = _useState5[1];\n\n  var _useState6 = useState({\n    error: \"\",\n    sizeError: \"\",\n    success: \"\",\n    formData: \"\",\n    title: \"\",\n    hidePublishButton: false\n  }),\n      values = _useState6[0],\n      setValues = _useState6[1];\n\n  var error = values.error,\n      sizeError = values.sizeError,\n      success = values.success,\n      formData = values.formData,\n      title = values.title,\n      hidePublishButton = values.hidePublishButton;\n  var token = getCookie(\"token\");\n  useEffect(function () {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      formData: new FormData()\n    }));\n    initCategories();\n    initTags();\n  }, [router]);\n\n  var initCategories = function initCategories() {\n    getCategories().then(function (data) {\n      if (data) {\n        if (data.error) {\n          setValues(_objectSpread(_objectSpread({}, values), {}, {\n            error: data.error\n          }));\n        } else {\n          setCategories(data);\n        }\n      } else {\n        console.log(\"no data\");\n      }\n    });\n  };\n\n  var initTags = function initTags() {\n    getTags().then(function (data) {\n      if (data) {\n        console.log(data);\n\n        if (data.error) {\n          setValues(_objectSpread(_objectSpread({}, values), {}, {\n            error: data.error\n          }));\n        } else {\n          setTags(data);\n        }\n      } else {\n        console.log(\"no data\");\n      }\n    });\n  };\n\n  var publishBlog = function publishBlog(e) {\n    e.preventDefault(); // console.log('ready to publishBlog');\n\n    createBlog(formData, token).then(function (data) {\n      if (data) {\n        if (data.error) {\n          setValues(_objectSpread(_objectSpread({}, values), {}, {\n            error: data.error\n          }));\n        } else {\n          setValues(_objectSpread(_objectSpread({}, values), {}, {\n            title: \"\",\n            error: \"\",\n            success: \"A new blog titled \\\"\".concat(data.title, \"\\\" is created\")\n          }));\n          setBody(\"\");\n          setCategories([]);\n          setTags([]);\n        }\n      } else {\n        console.log(\"no data recieved \");\n      }\n    });\n  };\n\n  var handleChange = function handleChange(name) {\n    return function (e) {\n      var _objectSpread2;\n\n      // console.log(e.target.value);\n      var value = name === \"photo\" ? e.target.files[0] : e.target.value;\n      formData.set(name, value);\n      setValues(_objectSpread(_objectSpread({}, values), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, name, value), _defineProperty(_objectSpread2, \"formData\", formData), _defineProperty(_objectSpread2, \"error\", \"\"), _objectSpread2)));\n    };\n  };\n\n  var handleBody = function handleBody(e) {\n    // console.log(e);\n    setBody(e);\n    formData.set(\"body\", e);\n\n    if (true) {\n      localStorage.setItem(\"blog\", JSON.stringify(e));\n    }\n  };\n\n  var handleToggle = function handleToggle(c) {\n    return function () {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        error: \"\"\n      })); // return the first index or -1\n\n      var clickedCategory = checked.indexOf(c);\n\n      var all = _toConsumableArray(checked);\n\n      if (clickedCategory === -1) {\n        all.push(c);\n      } else {\n        all.splice(clickedCategory, 1);\n      }\n\n      console.log(all);\n      setChecked(all);\n      formData.set(\"categories\", all);\n    };\n  };\n\n  var handleTagsToggle = function handleTagsToggle(t) {\n    return function () {\n      setValues(_objectSpread(_objectSpread({}, values), {}, {\n        error: \"\"\n      })); // return the first index or -1\n\n      var clickedTag = checked.indexOf(t);\n\n      var all = _toConsumableArray(checkedTag);\n\n      if (clickedTag === -1) {\n        all.push(t);\n      } else {\n        all.splice(clickedTag, 1);\n      }\n\n      console.log(all);\n      setCheckedTag(all);\n      formData.set(\"tags\", all);\n    };\n  };\n\n  var showCategories = function showCategories() {\n    return categories && categories.map(function (c, i) {\n      return /*#__PURE__*/_jsxs(\"li\", {\n        className: \"list-unstyled\",\n        children: [/*#__PURE__*/_jsx(\"input\", {\n          onChange: handleToggle(c._id),\n          type: \"checkbox\",\n          className: \"mr-2\"\n        }), /*#__PURE__*/_jsx(\"label\", {\n          className: \"form-check-label\",\n          children: c.name\n        })]\n      }, i);\n    });\n  };\n\n  var showTags = function showTags() {\n    return tags && tags.map(function (t, i) {\n      return /*#__PURE__*/_jsxs(\"li\", {\n        className: \"list-unstyled\",\n        children: [/*#__PURE__*/_jsx(\"input\", {\n          onChange: handleTagsToggle(t._id),\n          type: \"checkbox\",\n          className: \"mr-2\"\n        }), /*#__PURE__*/_jsx(\"label\", {\n          className: \"form-check-label\",\n          children: t.name\n        })]\n      }, i);\n    });\n  };\n\n  var showError = function showError() {\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: \"alert alert-danger\",\n      style: {\n        display: error ? \"\" : \"none\"\n      },\n      children: error\n    });\n  };\n\n  var showSuccess = function showSuccess() {\n    return /*#__PURE__*/_jsx(\"div\", {\n      className: \"alert alert-success\",\n      style: {\n        display: success ? \"\" : \"none\"\n      },\n      children: success\n    });\n  };\n\n  var createBlogForm = function createBlogForm() {\n    return /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: publishBlog,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsx(\"input\", {\n          placeholder: \"Blog title\",\n          type: \"text\",\n          className: \"form-control\",\n          value: title,\n          onChange: handleChange(\"title\")\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"form-group quill__form__grp\",\n        children: /*#__PURE__*/_jsx(ReactQuill, {\n          modules: QuillModules,\n          formats: QuillFormats,\n          value: body,\n          placeholder: \"Write something amazing...\",\n          onChange: handleBody\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary btn-lg btn-block\",\n          children: \"Publish\"\n        })\n      })]\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"container-fluid pb-5 \",\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"pt-3 \",\n      children: [showError(), showSuccess()]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"row pb-5 \",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"col-md-8\",\n        children: createBlogForm()\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"col-md-4\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"form-group pb-2\",\n          children: [/*#__PURE__*/_jsx(\"h5\", {\n            children: \"Featured image\"\n          }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsx(\"small\", {\n            className: \"text-muted\",\n            children: \"Max size: 1mb\"\n          }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"label\", {\n            className: \"btn btn-outline-primary\",\n            children: /*#__PURE__*/_jsx(\"input\", {\n              onChange: handleChange(\"photo\"),\n              type: \"file\",\n              accept: \"image/*\",\n              placeholder: \"Upload featured image\"\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          style: {\n            display: \"flex\",\n            flexDirection: \"row\"\n          },\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"col-md-6\",\n            children: [/*#__PURE__*/_jsx(\"h5\", {\n              children: \"Categories\"\n            }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsx(\"ul\", {\n              style: {\n                maxHeight: \"200px\",\n                overflowY: \"scroll\"\n              },\n              children: showCategories()\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"col-md-6\",\n            children: [/*#__PURE__*/_jsx(\"h5\", {\n              children: \"Tags\"\n            }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsx(\"ul\", {\n              style: {\n                maxHeight: \"200px\",\n                overflowY: \"scroll\"\n              },\n              children: showTags()\n            })]\n          })]\n        })]\n      })]\n    })]\n  });\n};\n\nexport default withRouter(CreateBlog);","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/user/crud/blog\",\n        function () {\n          return require(\"private-next-pages/user/crud/blog.js\");\n        }\n      ]);\n    ","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Layout from \"../../../components/Layout\";\nimport Private from \"../../../components/auth/Private\";\nimport BlogCreate from \"../../../components/crud/BlogCreate\";\nimport Link from \"next/link\";\n\nvar CreateBlog = function CreateBlog() {\n  return /*#__PURE__*/_jsx(Layout, {\n    children: /*#__PURE__*/_jsx(Private, {\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-12 pt-5 pb-5\",\n            children: /*#__PURE__*/_jsx(\"h2\", {\n              children: \"Create a new blog\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-12\",\n            children: /*#__PURE__*/_jsx(BlogCreate, {})\n          })]\n        })\n      })\n    })\n  });\n};\n\nexport default CreateBlog;","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React, { useEffect } from \"react\";\nimport Router from \"next/router\";\nimport { isAuth } from \"../../actions/auth\";\n\nfunction Private(_ref) {\n  var children = _ref.children;\n  useEffect(function () {\n    if (!isAuth()) {\n      Router.push(\"/signin\");\n    }\n  }, []);\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: children\n  });\n}\n\nexport default Private;"]}}
{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{Hde0:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return p}));var r=n(\"nKUr\"),c=n(\"5Yp1\"),o=n(\"vC6e\"),a=n(\"rePB\"),s=n(\"q1tI\"),i=(n(\"YFqc\"),n(\"20a2\"),n(\"iuBY\")),u=n(\"abxw\");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=function(){var e=Object(s.useState)({name:\"\",error:!1,success:!1,categories:[],removed:!1,reload:!1}),t=e[0],n=e[1],c=t.name,o=t.error,a=t.success,l=t.categories,d=t.removed,b=t.reload,f=Object(i.c)(\"token\");Object(s.useEffect)((function(){O()}),[b]);var O=function(){Object(u.b)().then((function(e){e.error?console.log(e.error):n(j(j({},t),{},{categories:e}))}))},h=function(e){window.confirm(\"Are you sure you want to delete this category?\")&&p(e)},p=function(e){Object(u.c)(e,f).then((function(e){e.error?console.log(e.error):n(j(j({},t),{},{error:!1,success:!1,name:\"\",removed:!d,reload:!b}))}))},m=function(e){e.preventDefault(),Object(u.a)({name:c},f).then((function(e){e.error?n(j(j({},t),{},{error:e.error,success:!1})):n(j(j({},t),{},{error:!1,success:!0,name:\"\",removed:d,reload:!b}))}))},g=function(e){n(j(j({},t),{},{name:e.target.value,error:!1,success:!1,removed:\"\"}))};return Object(r.jsxs)(r.Fragment,{children:[function(){if(a)return Object(r.jsx)(\"p\",{className:\"text-success\",children:\"Category is created\"})}(),function(){if(o)return Object(r.jsx)(\"p\",{className:\"text-danger\",children:\"Category already exist\"})}(),function(){if(d)return Object(r.jsx)(\"p\",{className:\"text-danger\",children:\"Category is removed\"})}(),Object(r.jsxs)(\"div\",{onMouseMove:function(e){n(j(j({},t),{},{error:!1,success:!1,removed:\"\"}))},children:[Object(r.jsx)(\"h5\",{children:\"Create category\"}),Object(r.jsx)(\"br\",{}),Object(r.jsxs)(\"form\",{onSubmit:m,children:[Object(r.jsx)(\"div\",{className:\"form-group\",children:Object(r.jsx)(\"input\",{placeholder:\"Create new category\",type:\"text\",className:\"form-control\",onChange:g,value:c,required:!0})}),Object(r.jsx)(\"div\",{children:Object(r.jsx)(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Create\"})})]}),Object(r.jsx)(\"br\",{}),Object(r.jsx)(\"br\",{}),Object(r.jsx)(\"h5\",{children:\"All categories\"}),l.map((function(e,t){return Object(r.jsx)(\"button\",{onDoubleClick:function(){return h(e.slug)},title:\"Double click to delete\",className:\"btn btn-outline-primary mr-1 ml-1 mt-3\",children:e.name},e.name)}))]})]})},b=n(\"SMr6\");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(){var e=Object(s.useState)({name:\"\",error:!1,success:!1,tags:[],removed:!1,reload:!1}),t=e[0],n=e[1],c=t.name,o=t.error,a=t.success,u=t.tags,l=t.removed,j=t.reload,d=Object(i.c)(\"token\");Object(s.useEffect)((function(){f()}),[j]);var f=function(){Object(b.b)().then((function(e){e.error?console.log(e.error):n(O(O({},t),{},{tags:e}))}))},h=function(e){window.confirm(\"Are you sure you want to delete this tag?\")&&p(e)},p=function(e){Object(b.c)(e,d).then((function(e){e.error?console.log(e.error):n(O(O({},t),{},{error:!1,success:!1,name:\"\",removed:!l,reload:!j}))}))},m=function(e){e.preventDefault(),Object(b.a)({name:c},d).then((function(e){e?e.error?n(O(O({},t),{},{error:e.error,success:!1})):n(O(O({},t),{},{error:!1,success:!0,name:\"\",removed:l,reload:!j})):console.log(\"no data recieved - tag\")}))},g=function(e){n(O(O({},t),{},{name:e.target.value,error:!1,success:!1,removed:\"\"}))};return Object(r.jsxs)(\"div\",{children:[function(){if(a)return Object(r.jsx)(\"p\",{className:\"text-success\",children:\"Tag is created\"})}(),function(){if(o)return Object(r.jsx)(\"p\",{className:\"text-danger\",children:\"Tag already exist\"})}(),function(){if(l)return Object(r.jsx)(\"p\",{className:\"text-danger\",children:\"Tag is removed\"})}(),Object(r.jsxs)(\"div\",{onMouseMove:function(e){n(O(O({},t),{},{error:!1,success:!1,removed:\"\"}))},children:[Object(r.jsx)(\"h5\",{children:\"Create tag\"}),Object(r.jsx)(\"br\",{}),Object(r.jsxs)(\"form\",{onSubmit:m,children:[Object(r.jsx)(\"div\",{className:\"form-group \",children:Object(r.jsx)(\"input\",{placeholder:\"Create new tag\",type:\"text\",className:\"form-control\",onChange:g,value:c,required:!0})}),Object(r.jsx)(\"div\",{children:Object(r.jsx)(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Create\"})})]}),Object(r.jsx)(\"br\",{}),Object(r.jsx)(\"br\",{}),Object(r.jsx)(\"h5\",{children:\"All tags\"}),u.map((function(e,t){return Object(r.jsx)(\"button\",{onDoubleClick:function(){return h(e.slug)},title:\"Double click to delete\",className:\"btn btn-outline-primary mr-1 ml-1 mt-3\",children:e.name},e.name)}))]})]})};function p(){return Object(r.jsx)(c.a,{children:Object(r.jsx)(o.a,{children:Object(r.jsx)(\"div\",{className:\"container-fluid\",children:Object(r.jsxs)(\"div\",{className:\"row\",children:[Object(r.jsxs)(\"div\",{className:\" col-md-12 pt-5 pb-5\",children:[Object(r.jsx)(\"h2\",{className:\"text-center\",children:\"Manage Categories and Tags\"}),Object(r.jsx)(\"hr\",{})]}),Object(r.jsxs)(\"div\",{className:\" col-md-6 \",children:[Object(r.jsx)(\"h5\",{className:\"text-center\",style:{color:\"gray \"},children:\"Categories\"}),Object(r.jsx)(\"div\",{className:\"card p-4\",children:Object(r.jsx)(d,{})})]}),Object(r.jsxs)(\"div\",{className:\" col-md-6 \",children:[Object(r.jsx)(\"h5\",{className:\"text-center\",style:{color:\"gray\"},children:\"Tags\"}),Object(r.jsx)(\"div\",{className:\"card p-4\",children:Object(r.jsx)(h,{})})]})]})})})})}},SMr6:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s})),n.d(t,\"b\",(function(){return i})),n.d(t,\"d\",(function(){return u})),n.d(t,\"c\",(function(){return l}));var r=n(\"LpSC\"),c=n.n(r),o=n(\"iuBY\"),a=\"http://localhost:8000\",s=function(e,t){return c()(\"\".concat(a,\"/api/tag\"),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(t)},body:JSON.stringify(e)}).then((function(e){return Object(o.d)(e),e.json()})).catch((function(e){return console.log(e)}))},i=function(){return c()(\"\".concat(a,\"/api/tags\"),{method:\"GET\"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},u=function(e){return c()(\"\".concat(a,\"/api/tag/\").concat(e),{method:\"GET\"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},l=function(e,t){return c()(\"\".concat(a,\"/api/tag/\").concat(e),{method:\"DELETE\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(t)}}).then((function(e){return Object(o.d)(e),e.json()})).catch((function(e){return console.log(e)}))}},abxw:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return s})),n.d(t,\"b\",(function(){return i})),n.d(t,\"d\",(function(){return u})),n.d(t,\"c\",(function(){return l}));var r=n(\"LpSC\"),c=n.n(r),o=n(\"iuBY\"),a=\"http://localhost:8000\",s=function(e,t){return c()(\"\".concat(a,\"/api/category\"),{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(t)},body:JSON.stringify(e)}).then((function(e){return Object(o.d)(e),e.json()})).catch((function(e){return console.log(e)}))},i=function(){return c()(\"\".concat(a,\"/api/categories\"),{method:\"GET\"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},u=function(e){return c()(\"\".concat(a,\"/api/category/\").concat(e),{method:\"GET\"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},l=function(e,t){return c()(\"\".concat(a,\"/api/category/\").concat(e),{method:\"DELETE\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(t)}}).then((function(e){return Object(o.d)(e),e.json()})).catch((function(e){return console.log(e)}))}},nxd4:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/admin/crud/category-tag\",function(){return n(\"Hde0\")}])},vC6e:function(e,t,n){\"use strict\";var r=n(\"nKUr\"),c=n(\"q1tI\"),o=n(\"20a2\"),a=n.n(o),s=n(\"iuBY\");t.a=function(e){var t=e.children;return Object(c.useEffect)((function(){Object(s.e)()?1!==Object(s.e)().role&&a.a.push(\"/\"):a.a.push(\"/signin\")}),[]),Object(r.jsx)(r.Fragment,{children:t})}}},[[\"nxd4\",1,0,2,3]]]);","map":{"version":3,"sources":["static/chunks/pages/admin/crud/category-tag-7ec64af26d0eda3680e4.js"],"names":["_N_E","window","push","Hde0","module","__webpack_exports__","__webpack_require__","r","d","CategoryTag","jsx_runtime","Layout","Admin","defineProperty","react","auth","category","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","crud_Category","_useState","name","error","success","categories","removed","reload","values","setValues","token","loadCategories","then","data","console","log","deleteConfirm","slug","confirm","deleteCategory","clickSubmit","e","preventDefault","handleChange","value","children","className","showSuccess","showError","showRemoved","onMouseMove","onSubmit","placeholder","type","onChange","required","map","c","onDoubleClick","title","tag","Tag_ownKeys","Tag_objectSpread","crud_Tag","tags","loadTags","deleteTag","t","style","color","SMr6","create","getTags","singleTag","removeTag","isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0__","isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0___default","n","_auth__WEBPACK_IMPORTED_MODULE_1__","API","concat","method","headers","Accept","Content-Type","Authorization","body","JSON","stringify","response","json","err","abxw","getCategories","singleCategory","removeCategory","nxd4","exports","__NEXT_P","vC6e","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","next_router__WEBPACK_IMPORTED_MODULE_2__","next_router__WEBPACK_IMPORTED_MODULE_2___default","_actions_auth__WEBPACK_IMPORTED_MODULE_3__","_ref","role","a"],"mappings":"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"},"name":"static/chunks/pages/admin/crud/category-tag-7ec64af26d0eda3680e4.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[20],{\n\n/***/ \"Hde0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"default\", function() { return /* binding */ CategoryTag; });\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(\"nKUr\");\n\n// EXTERNAL MODULE: ./components/Layout.js + 11 modules\nvar Layout = __webpack_require__(\"5Yp1\");\n\n// EXTERNAL MODULE: ./components/auth/Admin.js\nvar Admin = __webpack_require__(\"vC6e\");\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(\"rePB\");\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// EXTERNAL MODULE: ./node_modules/next/link.js\nvar next_link = __webpack_require__(\"YFqc\");\n\n// EXTERNAL MODULE: ./node_modules/next/router.js\nvar router = __webpack_require__(\"20a2\");\n\n// EXTERNAL MODULE: ./actions/auth.js\nvar auth = __webpack_require__(\"iuBY\");\n\n// EXTERNAL MODULE: ./actions/category.js\nvar category = __webpack_require__(\"abxw\");\n\n// CONCATENATED MODULE: ./components/crud/Category.js\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\nvar Category_Category = function Category() {\n  var _useState = Object(react[\"useState\"])({\n    name: \"\",\n    error: false,\n    success: false,\n    categories: [],\n    removed: false,\n    reload: false\n  }),\n      values = _useState[0],\n      setValues = _useState[1];\n\n  var name = values.name,\n      error = values.error,\n      success = values.success,\n      categories = values.categories,\n      removed = values.removed,\n      reload = values.reload;\n  var token = Object(auth[\"c\" /* getCookie */])(\"token\");\n  Object(react[\"useEffect\"])(function () {\n    loadCategories();\n  }, [reload]);\n\n  var loadCategories = function loadCategories() {\n    Object(category[\"b\" /* getCategories */])().then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          categories: data\n        }));\n      }\n    });\n  };\n\n  var showCategories = function showCategories() {\n    return categories.map(function (c, i) {\n      return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\", {\n        onDoubleClick: function onDoubleClick() {\n          return deleteConfirm(c.slug);\n        },\n        title: \"Double click to delete\",\n        className: \"btn btn-outline-primary mr-1 ml-1 mt-3\",\n        children: c.name\n      }, c.name);\n    });\n  };\n\n  var deleteConfirm = function deleteConfirm(slug) {\n    var answer = window.confirm(\"Are you sure you want to delete this category?\");\n\n    if (answer) {\n      deleteCategory(slug);\n    }\n  };\n\n  var deleteCategory = function deleteCategory(slug) {\n    // console.log('delete', slug);\n    Object(category[\"c\" /* removeCategory */])(slug, token).then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          error: false,\n          success: false,\n          name: \"\",\n          removed: !removed,\n          reload: !reload\n        }));\n      }\n    });\n  };\n\n  var clickSubmit = function clickSubmit(e) {\n    e.preventDefault(); // console.log('create category', name);\n\n    Object(category[\"a\" /* create */])({\n      name: name\n    }, token).then(function (data) {\n      if (data.error) {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          error: data.error,\n          success: false\n        }));\n      } else {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          error: false,\n          success: true,\n          name: \"\",\n          removed: removed,\n          reload: !reload\n        }));\n      }\n    });\n  };\n\n  var handleChange = function handleChange(e) {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      name: e.target.value,\n      error: false,\n      success: false,\n      removed: \"\"\n    }));\n  };\n\n  var showSuccess = function showSuccess() {\n    if (success) {\n      return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\", {\n        className: \"text-success\",\n        children: \"Category is created\"\n      });\n    }\n  };\n\n  var showError = function showError() {\n    if (error) {\n      return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\", {\n        className: \"text-danger\",\n        children: \"Category already exist\"\n      });\n    }\n  };\n\n  var showRemoved = function showRemoved() {\n    if (removed) {\n      return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\", {\n        className: \"text-danger\",\n        children: \"Category is removed\"\n      });\n    }\n  };\n\n  var mouseMoveHandler = function mouseMoveHandler(e) {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      error: false,\n      success: false,\n      removed: \"\"\n    }));\n  };\n\n  var newCategoryFom = function newCategoryFom() {\n    return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\", {\n      onSubmit: clickSubmit,\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n          placeholder: \"Create new category\",\n          type: \"text\",\n          className: \"form-control\",\n          onChange: handleChange,\n          value: name,\n          required: true\n        })\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Create\"\n        })\n      })]\n    });\n  };\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"], {\n    children: [showSuccess(), showError(), showRemoved(), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n      onMouseMove: mouseMoveHandler,\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\", {\n        children: \"Create category\"\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\", {}), newCategoryFom(), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\", {}), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\", {}), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\", {\n        children: \"All categories\"\n      }), showCategories()]\n    })]\n  });\n};\n\n/* harmony default export */ var crud_Category = (Category_Category);\n// EXTERNAL MODULE: ./actions/tag.js\nvar tag = __webpack_require__(\"SMr6\");\n\n// CONCATENATED MODULE: ./components/crud/Tag.js\n\n\n\n\nfunction Tag_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction Tag_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { Tag_ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { Tag_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\nvar Tag_Tag = function Tag() {\n  var _useState = Object(react[\"useState\"])({\n    name: \"\",\n    error: false,\n    success: false,\n    tags: [],\n    removed: false,\n    reload: false\n  }),\n      values = _useState[0],\n      setValues = _useState[1];\n\n  var name = values.name,\n      error = values.error,\n      success = values.success,\n      tags = values.tags,\n      removed = values.removed,\n      reload = values.reload;\n  var token = Object(auth[\"c\" /* getCookie */])(\"token\");\n  Object(react[\"useEffect\"])(function () {\n    loadTags();\n  }, [reload]);\n\n  var loadTags = function loadTags() {\n    Object(tag[\"b\" /* getTags */])().then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setValues(Tag_objectSpread(Tag_objectSpread({}, values), {}, {\n          tags: data\n        }));\n      }\n    });\n  };\n\n  var showTags = function showTags() {\n    return tags.map(function (t, i) {\n      return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\", {\n        onDoubleClick: function onDoubleClick() {\n          return deleteConfirm(t.slug);\n        },\n        title: \"Double click to delete\",\n        className: \"btn btn-outline-primary mr-1 ml-1 mt-3\",\n        children: t.name\n      }, t.name);\n    });\n  };\n\n  var deleteConfirm = function deleteConfirm(slug) {\n    var answer = window.confirm(\"Are you sure you want to delete this tag?\");\n\n    if (answer) {\n      deleteTag(slug);\n    }\n  };\n\n  var deleteTag = function deleteTag(slug) {\n    // console.log('delete', slug);\n    Object(tag[\"c\" /* removeTag */])(slug, token).then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setValues(Tag_objectSpread(Tag_objectSpread({}, values), {}, {\n          error: false,\n          success: false,\n          name: \"\",\n          removed: !removed,\n          reload: !reload\n        }));\n      }\n    });\n  };\n\n  var clickSubmit = function clickSubmit(e) {\n    e.preventDefault(); // console.log('create category', name);\n\n    Object(tag[\"a\" /* create */])({\n      name: name\n    }, token).then(function (data) {\n      if (data) {\n        if (data.error) {\n          setValues(Tag_objectSpread(Tag_objectSpread({}, values), {}, {\n            error: data.error,\n            success: false\n          }));\n        } else {\n          setValues(Tag_objectSpread(Tag_objectSpread({}, values), {}, {\n            error: false,\n            success: true,\n            name: \"\",\n            removed: removed,\n            reload: !reload\n          }));\n        }\n      } else {\n        console.log(\"no data recieved - tag\");\n      }\n    });\n  };\n\n  var handleChange = function handleChange(e) {\n    setValues(Tag_objectSpread(Tag_objectSpread({}, values), {}, {\n      name: e.target.value,\n      error: false,\n      success: false,\n      removed: \"\"\n    }));\n  };\n\n  var showSuccess = function showSuccess() {\n    if (success) {\n      return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\", {\n        className: \"text-success\",\n        children: \"Tag is created\"\n      });\n    }\n  };\n\n  var showError = function showError() {\n    if (error) {\n      return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\", {\n        className: \"text-danger\",\n        children: \"Tag already exist\"\n      });\n    }\n  };\n\n  var showRemoved = function showRemoved() {\n    if (removed) {\n      return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\", {\n        className: \"text-danger\",\n        children: \"Tag is removed\"\n      });\n    }\n  };\n\n  var mouseMoveHandler = function mouseMoveHandler(e) {\n    setValues(Tag_objectSpread(Tag_objectSpread({}, values), {}, {\n      error: false,\n      success: false,\n      removed: \"\"\n    }));\n  };\n\n  var newTagFom = function newTagFom() {\n    return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\", {\n      onSubmit: clickSubmit,\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n        className: \"form-group \",\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\", {\n          placeholder: \"Create new tag\",\n          type: \"text\",\n          className: \"form-control\",\n          onChange: handleChange,\n          value: name,\n          required: true\n        })\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Create\"\n        })\n      })]\n    });\n  };\n\n  return /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n    children: [showSuccess(), showError(), showRemoved(), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n      onMouseMove: mouseMoveHandler,\n      children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\", {\n        children: \"Create tag\"\n      }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\", {}), newTagFom(), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\", {}), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\", {}), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\", {\n        children: \"All tags\"\n      }), showTags()]\n    })]\n  });\n};\n\n/* harmony default export */ var crud_Tag = (Tag_Tag);\n// CONCATENATED MODULE: ./pages/admin/crud/category-tag.js\n\n\n\n\n\n\nfunction CategoryTag() {\n  return /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Layout[\"a\" /* default */], {\n    children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Admin[\"a\" /* default */], {\n      children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n            className: \" col-md-12 pt-5 pb-5\",\n            children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\", {\n              className: \"text-center\",\n              children: \"Manage Categories and Tags\"\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"hr\", {})]\n          }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n            className: \" col-md-6 \",\n            children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\", {\n              className: \"text-center\",\n              style: {\n                color: \"gray \"\n              },\n              children: \"Categories\"\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n              className: \"card p-4\",\n              children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(crud_Category, {})\n            })]\n          }), /*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\", {\n            className: \" col-md-6 \",\n            children: [/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\", {\n              className: \"text-center\",\n              style: {\n                color: \"gray\"\n              },\n              children: \"Tags\"\n            }), /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\", {\n              className: \"card p-4\",\n              children: /*#__PURE__*/Object(jsx_runtime[\"jsx\"])(crud_Tag, {})\n            })]\n          })]\n        })\n      })\n    })\n  });\n}\n\n/***/ }),\n\n/***/ \"SMr6\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return create; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getTags; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return singleTag; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return removeTag; });\n/* harmony import */ var isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"LpSC\");\n/* harmony import */ var isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"iuBY\");\n //import { API } from \"../config\";\n\n\nvar API = \"http://localhost:8000\";\nvar create = function create(tag, token) {\n  return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0___default()(\"\".concat(API, \"/api/tag\"), {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \".concat(token)\n    },\n    body: JSON.stringify(tag)\n  }).then(function (response) {\n    Object(_auth__WEBPACK_IMPORTED_MODULE_1__[/* handleResponse */ \"d\"])(response);\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nvar getTags = function getTags() {\n  return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0___default()(\"\".concat(API, \"/api/tags\"), {\n    method: \"GET\"\n  }).then(function (response) {\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nvar singleTag = function singleTag(slug) {\n  return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0___default()(\"\".concat(API, \"/api/tag/\").concat(slug), {\n    method: \"GET\"\n  }).then(function (response) {\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nvar removeTag = function removeTag(slug, token) {\n  return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0___default()(\"\".concat(API, \"/api/tag/\").concat(slug), {\n    method: \"DELETE\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \".concat(token)\n    }\n  }).then(function (response) {\n    Object(_auth__WEBPACK_IMPORTED_MODULE_1__[/* handleResponse */ \"d\"])(response);\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\n\n/***/ }),\n\n/***/ \"abxw\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return create; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return getCategories; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return singleCategory; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return removeCategory; });\n/* harmony import */ var isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"LpSC\");\n/* harmony import */ var isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"iuBY\");\n //import { API } from \"../config\";\n\n\nvar API = \"http://localhost:8000\";\nvar create = function create(category, token) {\n  return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0___default()(\"\".concat(API, \"/api/category\"), {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \".concat(token)\n    },\n    body: JSON.stringify(category)\n  }).then(function (response) {\n    Object(_auth__WEBPACK_IMPORTED_MODULE_1__[/* handleResponse */ \"d\"])(response);\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nvar getCategories = function getCategories() {\n  return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0___default()(\"\".concat(API, \"/api/categories\"), {\n    method: \"GET\"\n  }).then(function (response) {\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nvar singleCategory = function singleCategory(slug) {\n  return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0___default()(\"\".concat(API, \"/api/category/\").concat(slug), {\n    method: \"GET\"\n  }).then(function (response) {\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nvar removeCategory = function removeCategory(slug, token) {\n  return isomorphic_fetch__WEBPACK_IMPORTED_MODULE_0___default()(\"\".concat(API, \"/api/category/\").concat(slug), {\n    method: \"DELETE\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \".concat(token)\n    }\n  }).then(function (response) {\n    Object(_auth__WEBPACK_IMPORTED_MODULE_1__[/* handleResponse */ \"d\"])(response);\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\n\n/***/ }),\n\n/***/ \"nxd4\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/admin/crud/category-tag\",\n        function () {\n          return __webpack_require__(\"Hde0\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"vC6e\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _actions_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"iuBY\");\n\n\n\n\n\n\nfunction Admin(_ref) {\n  var children = _ref.children;\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    if (!Object(_actions_auth__WEBPACK_IMPORTED_MODULE_3__[/* isAuth */ \"e\"])()) {\n      next_router__WEBPACK_IMPORTED_MODULE_2___default.a.push(\"/signin\");\n    } else if (Object(_actions_auth__WEBPACK_IMPORTED_MODULE_3__[/* isAuth */ \"e\"])().role !== 1) {\n      next_router__WEBPACK_IMPORTED_MODULE_2___default.a.push(\"/\");\n    }\n  }, []);\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"jsx\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__[\"Fragment\"], {\n    children: children\n  });\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Admin);\n\n/***/ })\n\n},[[\"nxd4\",1,0,2,3]]]);","inputSourceMap":{"version":3,"sources":["/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/components/crud/Category.js","/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/components/crud/Tag.js","/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/pages/admin/crud/category-tag.js","/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/actions/tag.js","/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/actions/category.js","/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fadmin%2Fcrud%2Fcategory-tag&absolutePagePath=private-next-pages%2Fadmin%2Fcrud%2Fcategory-tag.js!","/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/node_modules/next/dist/build/webpack/loaders/next-babel-loader.js??ref--4!/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/components/auth/Admin.js"],"names":[],"mappings":"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","file":"x","sourcesContent":["import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport { getCookie } from \"../../actions/auth\";\nimport { create, getCategories, removeCategory } from \"../../actions/category\";\n\nvar Category = function Category() {\n  var _useState = useState({\n    name: \"\",\n    error: false,\n    success: false,\n    categories: [],\n    removed: false,\n    reload: false\n  }),\n      values = _useState[0],\n      setValues = _useState[1];\n\n  var name = values.name,\n      error = values.error,\n      success = values.success,\n      categories = values.categories,\n      removed = values.removed,\n      reload = values.reload;\n  var token = getCookie(\"token\");\n  useEffect(function () {\n    loadCategories();\n  }, [reload]);\n\n  var loadCategories = function loadCategories() {\n    getCategories().then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          categories: data\n        }));\n      }\n    });\n  };\n\n  var showCategories = function showCategories() {\n    return categories.map(function (c, i) {\n      return /*#__PURE__*/_jsx(\"button\", {\n        onDoubleClick: function onDoubleClick() {\n          return deleteConfirm(c.slug);\n        },\n        title: \"Double click to delete\",\n        className: \"btn btn-outline-primary mr-1 ml-1 mt-3\",\n        children: c.name\n      }, c.name);\n    });\n  };\n\n  var deleteConfirm = function deleteConfirm(slug) {\n    var answer = window.confirm(\"Are you sure you want to delete this category?\");\n\n    if (answer) {\n      deleteCategory(slug);\n    }\n  };\n\n  var deleteCategory = function deleteCategory(slug) {\n    // console.log('delete', slug);\n    removeCategory(slug, token).then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          error: false,\n          success: false,\n          name: \"\",\n          removed: !removed,\n          reload: !reload\n        }));\n      }\n    });\n  };\n\n  var clickSubmit = function clickSubmit(e) {\n    e.preventDefault(); // console.log('create category', name);\n\n    create({\n      name: name\n    }, token).then(function (data) {\n      if (data.error) {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          error: data.error,\n          success: false\n        }));\n      } else {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          error: false,\n          success: true,\n          name: \"\",\n          removed: removed,\n          reload: !reload\n        }));\n      }\n    });\n  };\n\n  var handleChange = function handleChange(e) {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      name: e.target.value,\n      error: false,\n      success: false,\n      removed: \"\"\n    }));\n  };\n\n  var showSuccess = function showSuccess() {\n    if (success) {\n      return /*#__PURE__*/_jsx(\"p\", {\n        className: \"text-success\",\n        children: \"Category is created\"\n      });\n    }\n  };\n\n  var showError = function showError() {\n    if (error) {\n      return /*#__PURE__*/_jsx(\"p\", {\n        className: \"text-danger\",\n        children: \"Category already exist\"\n      });\n    }\n  };\n\n  var showRemoved = function showRemoved() {\n    if (removed) {\n      return /*#__PURE__*/_jsx(\"p\", {\n        className: \"text-danger\",\n        children: \"Category is removed\"\n      });\n    }\n  };\n\n  var mouseMoveHandler = function mouseMoveHandler(e) {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      error: false,\n      success: false,\n      removed: \"\"\n    }));\n  };\n\n  var newCategoryFom = function newCategoryFom() {\n    return /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: clickSubmit,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"form-group\",\n        children: /*#__PURE__*/_jsx(\"input\", {\n          placeholder: \"Create new category\",\n          type: \"text\",\n          className: \"form-control\",\n          onChange: handleChange,\n          value: name,\n          required: true\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Create\"\n        })\n      })]\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [showSuccess(), showError(), showRemoved(), /*#__PURE__*/_jsxs(\"div\", {\n      onMouseMove: mouseMoveHandler,\n      children: [/*#__PURE__*/_jsx(\"h5\", {\n        children: \"Create category\"\n      }), /*#__PURE__*/_jsx(\"br\", {}), newCategoryFom(), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"h5\", {\n        children: \"All categories\"\n      }), showCategories()]\n    })]\n  });\n};\n\nexport default Category;","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"/Users/chanchalagorale/Documents/react-mongo-next-project/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport { getCookie } from \"../../actions/auth\";\nimport { create, getTags, removeTag } from \"../../actions/tag\";\n\nvar Tag = function Tag() {\n  var _useState = useState({\n    name: \"\",\n    error: false,\n    success: false,\n    tags: [],\n    removed: false,\n    reload: false\n  }),\n      values = _useState[0],\n      setValues = _useState[1];\n\n  var name = values.name,\n      error = values.error,\n      success = values.success,\n      tags = values.tags,\n      removed = values.removed,\n      reload = values.reload;\n  var token = getCookie(\"token\");\n  useEffect(function () {\n    loadTags();\n  }, [reload]);\n\n  var loadTags = function loadTags() {\n    getTags().then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          tags: data\n        }));\n      }\n    });\n  };\n\n  var showTags = function showTags() {\n    return tags.map(function (t, i) {\n      return /*#__PURE__*/_jsx(\"button\", {\n        onDoubleClick: function onDoubleClick() {\n          return deleteConfirm(t.slug);\n        },\n        title: \"Double click to delete\",\n        className: \"btn btn-outline-primary mr-1 ml-1 mt-3\",\n        children: t.name\n      }, t.name);\n    });\n  };\n\n  var deleteConfirm = function deleteConfirm(slug) {\n    var answer = window.confirm(\"Are you sure you want to delete this tag?\");\n\n    if (answer) {\n      deleteTag(slug);\n    }\n  };\n\n  var deleteTag = function deleteTag(slug) {\n    // console.log('delete', slug);\n    removeTag(slug, token).then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setValues(_objectSpread(_objectSpread({}, values), {}, {\n          error: false,\n          success: false,\n          name: \"\",\n          removed: !removed,\n          reload: !reload\n        }));\n      }\n    });\n  };\n\n  var clickSubmit = function clickSubmit(e) {\n    e.preventDefault(); // console.log('create category', name);\n\n    create({\n      name: name\n    }, token).then(function (data) {\n      if (data) {\n        if (data.error) {\n          setValues(_objectSpread(_objectSpread({}, values), {}, {\n            error: data.error,\n            success: false\n          }));\n        } else {\n          setValues(_objectSpread(_objectSpread({}, values), {}, {\n            error: false,\n            success: true,\n            name: \"\",\n            removed: removed,\n            reload: !reload\n          }));\n        }\n      } else {\n        console.log(\"no data recieved - tag\");\n      }\n    });\n  };\n\n  var handleChange = function handleChange(e) {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      name: e.target.value,\n      error: false,\n      success: false,\n      removed: \"\"\n    }));\n  };\n\n  var showSuccess = function showSuccess() {\n    if (success) {\n      return /*#__PURE__*/_jsx(\"p\", {\n        className: \"text-success\",\n        children: \"Tag is created\"\n      });\n    }\n  };\n\n  var showError = function showError() {\n    if (error) {\n      return /*#__PURE__*/_jsx(\"p\", {\n        className: \"text-danger\",\n        children: \"Tag already exist\"\n      });\n    }\n  };\n\n  var showRemoved = function showRemoved() {\n    if (removed) {\n      return /*#__PURE__*/_jsx(\"p\", {\n        className: \"text-danger\",\n        children: \"Tag is removed\"\n      });\n    }\n  };\n\n  var mouseMoveHandler = function mouseMoveHandler(e) {\n    setValues(_objectSpread(_objectSpread({}, values), {}, {\n      error: false,\n      success: false,\n      removed: \"\"\n    }));\n  };\n\n  var newTagFom = function newTagFom() {\n    return /*#__PURE__*/_jsxs(\"form\", {\n      onSubmit: clickSubmit,\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"form-group \",\n        children: /*#__PURE__*/_jsx(\"input\", {\n          placeholder: \"Create new tag\",\n          type: \"text\",\n          className: \"form-control\",\n          onChange: handleChange,\n          value: name,\n          required: true\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        children: /*#__PURE__*/_jsx(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Create\"\n        })\n      })]\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    children: [showSuccess(), showError(), showRemoved(), /*#__PURE__*/_jsxs(\"div\", {\n      onMouseMove: mouseMoveHandler,\n      children: [/*#__PURE__*/_jsx(\"h5\", {\n        children: \"Create tag\"\n      }), /*#__PURE__*/_jsx(\"br\", {}), newTagFom(), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"h5\", {\n        children: \"All tags\"\n      }), showTags()]\n    })]\n  });\n};\n\nexport default Tag;","import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Layout from \"../../../components/Layout\";\nimport Admin from \"../../../components/auth/Admin\";\nimport Category from \"../../../components/crud/Category\";\nimport Tag from \"../../../components/crud/Tag\";\nexport default function CategoryTag() {\n  return /*#__PURE__*/_jsx(Layout, {\n    children: /*#__PURE__*/_jsx(Admin, {\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"container-fluid\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \" col-md-12 pt-5 pb-5\",\n            children: [/*#__PURE__*/_jsx(\"h2\", {\n              className: \"text-center\",\n              children: \"Manage Categories and Tags\"\n            }), /*#__PURE__*/_jsx(\"hr\", {})]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \" col-md-6 \",\n            children: [/*#__PURE__*/_jsx(\"h5\", {\n              className: \"text-center\",\n              style: {\n                color: \"gray \"\n              },\n              children: \"Categories\"\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"card p-4\",\n              children: /*#__PURE__*/_jsx(Category, {})\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \" col-md-6 \",\n            children: [/*#__PURE__*/_jsx(\"h5\", {\n              className: \"text-center\",\n              style: {\n                color: \"gray\"\n              },\n              children: \"Tags\"\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"card p-4\",\n              children: /*#__PURE__*/_jsx(Tag, {})\n            })]\n          })]\n        })\n      })\n    })\n  });\n}","import fetch from \"isomorphic-fetch\"; //import { API } from \"../config\";\n\nimport { handleResponse } from \"./auth\";\nvar API = \"http://localhost:8000\";\nexport var create = function create(tag, token) {\n  return fetch(\"\".concat(API, \"/api/tag\"), {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \".concat(token)\n    },\n    body: JSON.stringify(tag)\n  }).then(function (response) {\n    handleResponse(response);\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nexport var getTags = function getTags() {\n  return fetch(\"\".concat(API, \"/api/tags\"), {\n    method: \"GET\"\n  }).then(function (response) {\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nexport var singleTag = function singleTag(slug) {\n  return fetch(\"\".concat(API, \"/api/tag/\").concat(slug), {\n    method: \"GET\"\n  }).then(function (response) {\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nexport var removeTag = function removeTag(slug, token) {\n  return fetch(\"\".concat(API, \"/api/tag/\").concat(slug), {\n    method: \"DELETE\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \".concat(token)\n    }\n  }).then(function (response) {\n    handleResponse(response);\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};","import fetch from \"isomorphic-fetch\"; //import { API } from \"../config\";\n\nimport { handleResponse } from \"./auth\";\nvar API = \"http://localhost:8000\";\nexport var create = function create(category, token) {\n  return fetch(\"\".concat(API, \"/api/category\"), {\n    method: \"POST\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \".concat(token)\n    },\n    body: JSON.stringify(category)\n  }).then(function (response) {\n    handleResponse(response);\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nexport var getCategories = function getCategories() {\n  return fetch(\"\".concat(API, \"/api/categories\"), {\n    method: \"GET\"\n  }).then(function (response) {\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nexport var singleCategory = function singleCategory(slug) {\n  return fetch(\"\".concat(API, \"/api/category/\").concat(slug), {\n    method: \"GET\"\n  }).then(function (response) {\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};\nexport var removeCategory = function removeCategory(slug, token) {\n  return fetch(\"\".concat(API, \"/api/category/\").concat(slug), {\n    method: \"DELETE\",\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Authorization: \"Bearer \".concat(token)\n    }\n  }).then(function (response) {\n    handleResponse(response);\n    return response.json();\n  })[\"catch\"](function (err) {\n    return console.log(err);\n  });\n};","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/admin/crud/category-tag\",\n        function () {\n          return require(\"private-next-pages/admin/crud/category-tag.js\");\n        }\n      ]);\n    ","import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport React, { useEffect } from \"react\";\nimport Router from \"next/router\";\nimport { isAuth } from \"../../actions/auth\";\n\nfunction Admin(_ref) {\n  var children = _ref.children;\n  useEffect(function () {\n    if (!isAuth()) {\n      Router.push(\"/signin\");\n    } else if (isAuth().role !== 1) {\n      Router.push(\"/\");\n    }\n  }, []);\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: children\n  });\n}\n\nexport default Admin;"]}}
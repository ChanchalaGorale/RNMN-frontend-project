{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Link from \"next/link\";\nimport Layout from \"../../components/Layout\";\nimport { userPublicProfile } from \"../../actions/user\";\nimport moment from \"moment\";\n\nvar UserProfile = function UserProfile(_ref) {\n  var user = _ref.user,\n      blogs = _ref.blogs,\n      query = _ref.query;\n\n  var showUserBlogs = function showUserBlogs() {\n    return blogs.map(function (blog, i) {\n      return /*#__PURE__*/_jsx(\"div\", {\n        className: \"mt-4 mb-4\",\n        children: /*#__PURE__*/_jsx(Link, {\n          href: \"/blogs/\".concat(blog.slug),\n          children: /*#__PURE__*/_jsx(\"a\", {\n            className: \"lead\",\n            children: blog.title\n          })\n        })\n      }, i);\n    });\n  };\n\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: /*#__PURE__*/_jsxs(Layout, {\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsx(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-12\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"card\",\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"card-body\",\n                children: /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxs(\"div\", {\n                    className: \"col-md-8\",\n                    children: [/*#__PURE__*/_jsx(\"h5\", {\n                      children: user.name\n                    }), /*#__PURE__*/_jsxs(\"p\", {\n                      className: \"text-muted\",\n                      children: [\"Joined \", moment(user.createdAt).fromNow()]\n                    })]\n                  }), /*#__PURE__*/_jsx(\"div\", {\n                    className: \"col-md-4\",\n                    children: /*#__PURE__*/_jsx(\"img\", {\n                      src: \"\".concat(API, \"/user/photo/\").concat(user.username),\n                      className: \"img img-fluid img-thumbnail mb-3\",\n                      style: {\n                        maxHeight: \"100px\",\n                        maxWidth: \"100%\"\n                      },\n                      alt: \"user profile\"\n                    })\n                  })]\n                })\n              })\n            })\n          })\n        })\n      }), /*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(\"div\", {\n        className: \"container pb-5\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"card\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxs(\"h5\", {\n                  className: \"card-title bg-primary pt-4 pb-4 pl-4 pr-4 text-white\",\n                  children: [\"Recent blogs by \", user.name]\n                }), showUserBlogs()]\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-md-6\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"card\",\n              children: /*#__PURE__*/_jsxs(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxs(\"h5\", {\n                  className: \"card-title bg-primary pt-4 pb-4 pl-4 pr-4 text-light\",\n                  children: [\"Message \", user.name]\n                }), /*#__PURE__*/_jsx(\"br\", {})]\n              })\n            })\n          })]\n        })\n      })]\n    })\n  });\n};\n\nUserProfile.getInitialProps = function (_ref2) {\n  var query = _ref2.query;\n  // console.log(query);\n  return userPublicProfile(query.username).then(function (data) {\n    if (data.error) {\n      console.log(data.error);\n    } else {\n      // console.log(data);\n      return {\n        user: data.user,\n        blogs: data.blogs,\n        query: query\n      };\n    }\n  });\n};\n\nexport default UserProfile;","map":null,"metadata":{},"sourceType":"module"}